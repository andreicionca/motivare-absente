<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Diriginte - MotivÄƒri È˜colare</title>
    <link rel="stylesheet" href="css/diriginte.css" />
  </head>
  <body>
    <!-- Top Header -->
    <header class="top-header">
      <div class="user-info">
        <div class="avatar">
          <span id="user-avatar">ğŸ‘©â€ğŸ«</span>
        </div>
        <div class="user-details">
          <h2 id="user-name">Nume Diriginte</h2>
          <p id="user-class">Diriginte â€¢ Clasa 10A</p>
        </div>
      </div>
      <button class="logout-btn" onclick="auth.logout()">IeÈ™ire</button>
    </header>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Pagina 1: Dashboard -->
      <section class="page-content active" id="page-dashboard">
        <div class="page-header">
          <h2>ğŸ“Š Dashboard</h2>
          <button class="refresh-btn" onclick="diriginte.refreshAll()">ğŸ”„</button>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
          <div class="stat-card pending">
            <div class="stat-icon">â³</div>
            <div class="stat-info">
              <h3 id="total-pending">0</h3>
              <p>Ãn aÈ™teptare</p>
            </div>
          </div>

          <div class="stat-card approved">
            <div class="stat-icon">âœ…</div>
            <div class="stat-info">
              <h3 id="total-approved">0</h3>
              <p>Aprobate</p>
            </div>
          </div>

          <div class="stat-card rejected">
            <div class="stat-icon">âŒ</div>
            <div class="stat-info">
              <h3 id="total-rejected">0</h3>
              <p>Respinse</p>
            </div>
          </div>

          <div class="stat-card finalized">
            <div class="stat-icon">ğŸ“‹</div>
            <div class="stat-info">
              <h3 id="total-finalized">0</h3>
              <p>Motivate</p>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
          <h3>AcÈ›iuni Rapide</h3>
          <div class="action-buttons">
            <button class="action-btn" onclick="diriginte.switchPage('pending')">
              <span class="btn-icon">â³</span>
              <span>ProceseazÄƒ solicitÄƒri</span>
              <span class="badge" id="pending-badge">0</span>
            </button>

            <button class="action-btn" onclick="diriginte.switchPage('approved')">
              <span class="btn-icon">ğŸ“¤</span>
              <span>FinalizeazÄƒ aprobate</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Pagina 2: Ãn aÈ™teptare -->
      <section class="page-content" id="page-pending">
        <div class="page-header">
          <h2>â³ Ãn AÈ™teptare</h2>
          <span class="count-badge" id="pending-count">0</span>
        </div>

        <div class="solicitari-feed" id="pending-feed">
          <div class="empty-state" id="pending-empty">
            <div class="empty-icon">âœ…</div>
            <p>Nu sunt solicitÄƒri Ã®n aÈ™teptare</p>
          </div>
        </div>
      </section>

      <!-- Pagina 3: Aprobate -->
      <section class="page-content" id="page-approved">
        <div class="page-header">
          <h2>âœ… Aprobate</h2>
          <div class="page-actions">
            <button class="export-btn" onclick="diriginte.exportMotivari()">
              ğŸ“¤ Export Script
            </button>
            <button class="finalize-btn" onclick="diriginte.finalizeSelected()">
              ğŸ“‹ MarcheazÄƒ ca Motivate
            </button>
          </div>
        </div>

        <div class="select-all-section">
          <label class="checkbox-label">
            <input
              type="checkbox"
              id="select-all-approved"
              onchange="diriginte.toggleSelectAll()"
            />
            <span>SelecteazÄƒ toate</span>
          </label>
        </div>

        <div class="solicitari-feed" id="approved-feed">
          <div class="empty-state" id="approved-empty">
            <div class="empty-icon">ğŸ“„</div>
            <p>Nu sunt solicitÄƒri aprobate</p>
          </div>
        </div>
      </section>

      <!-- Pagina 4: Respinse -->
      <section class="page-content" id="page-rejected">
        <div class="page-header">
          <h2>âŒ Respinse</h2>
          <button class="refresh-btn" onclick="diriginte.loadRejectedSolicitari()">ğŸ”„</button>
        </div>

        <div class="solicitari-feed" id="rejected-feed">
          <div class="empty-state" id="rejected-empty">
            <div class="empty-icon">âŒ</div>
            <p>Nu sunt solicitÄƒri respinse</p>
          </div>
        </div>
      </section>

      <!-- Pagina 5: Toate -->
      <section class="page-content" id="page-all">
        <div class="page-header">
          <h2>ğŸ“„ Toate SolicitÄƒrile</h2>
          <button class="refresh-btn" onclick="diriginte.loadAllSolicitari()">ğŸ”„</button>
        </div>

        <!-- Filtre Status -->
        <div class="filters">
          <button class="filter-btn active" data-filter="toate">Toate</button>
          <button class="filter-btn" data-filter="in_asteptare">Ãn aÈ™teptare</button>
          <button class="filter-btn" data-filter="aprobata">Aprobate</button>
          <button class="filter-btn" data-filter="finalizata">Motivate</button>
          <button class="filter-btn" data-filter="respinsa">Respinse</button>
        </div>

        <!-- Filtre Tipuri -->
        <div class="type-filters">
          <h4>FiltreazÄƒ dupÄƒ tip:</h4>
          <div class="type-filter-buttons">
            <button class="type-filter-btn active" data-type="toate">Toate</button>
            <button class="type-filter-btn" data-type="motivari">MotivÄƒri</button>
            <button class="type-filter-btn" data-type="cereri">Cereri</button>
            <button class="type-filter-btn" data-type="medicala_clasica">Medicale</button>
            <button class="type-filter-btn" data-type="invoire_lunga">Invoiri Lungi</button>
            <button class="type-filter-btn" data-type="alte_motive">Alte Motive</button>
            <button class="type-filter-btn" data-type="personal">Personal</button>
            <button class="type-filter-btn" data-type="medical_urgent">UrgenÈ›e Medicale</button>
          </div>
        </div>

        <div class="solicitari-feed" id="all-feed">
          <div class="empty-state" id="all-empty">
            <div class="empty-icon">ğŸ“</div>
            <p>Nu sunt solicitÄƒri</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-page="dashboard">
        <span class="nav-icon">ğŸ“Š</span>
        <span class="nav-label">Dashboard</span>
      </button>

      <button class="nav-item" data-page="pending">
        <span class="nav-icon">â³</span>
        <span class="nav-label">Ãn aÈ™teptare</span>
        <span class="nav-badge" id="nav-pending-badge">0</span>
      </button>

      <button class="nav-item" data-page="approved">
        <span class="nav-icon">âœ…</span>
        <span class="nav-label">Aprobate</span>
      </button>

      <button class="nav-item" data-page="rejected">
        <span class="nav-icon">âŒ</span>
        <span class="nav-label">Respinse</span>
      </button>

      <button class="nav-item" data-page="all">
        <span class="nav-icon">ğŸ“„</span>
        <span class="nav-label">Toate</span>
      </button>
    </nav>

    <!-- Modal pentru vizualizare solicitare -->
    <div class="modal-overlay" id="solicitare-modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modal-title">Detalii Solicitare</h3>
          <button class="close-btn" onclick="diriginte.closeModal()">Ã—</button>
        </div>

        <div class="modal-body" id="modal-body">
          <!-- ConÈ›inut dinamic -->
        </div>

        <div class="modal-actions" id="modal-actions">
          <button class="btn btn-danger" id="reject-btn" onclick="diriginte.rejectSolicitare()">
            Respinge
          </button>
          <button class="btn btn-success" id="approve-btn" onclick="diriginte.approveSolicitare()">
            AprobÄƒ
          </button>
        </div>
      </div>
    </div>

    <!-- Export Modal -->
    <div class="modal-overlay" id="export-modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Export Script pentru Catalog</h3>
          <button class="close-btn" onclick="diriginte.closeExportModal()">Ã—</button>
        </div>

        <div class="modal-body">
          <p>CopiazÄƒ textul de mai jos È™i insereazÄƒ-l Ã®n catalogul electronic:</p>
          <textarea id="export-text" readonly rows="10"></textarea>
          <button class="copy-btn" onclick="diriginte.copyExportText()">ğŸ“‹ CopiazÄƒ</button>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay" style="display: none">
      <div class="loading-spinner"></div>
      <p>Se proceseazÄƒ...</p>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/diriginte.js"></script>
  </body>
</html>
